// ==UserScript==
// @name         Neopets - User Lookup Upgrades
// @namespace    xmilo@clraik
// @version      1.1
// @description  Get all current trophies & trophy count for user and logs to console, adds links to classic highscore page for each trophy.
// @author       xmilo@clraik
// @match        http://www.neopets.com/userlookup.phtml?user=*
// @match        https://www.neopets.com/userlookup.phtml?user=*
// @grant        none
// ==/UserScript==

var _0x396bcb=_0x1551,_0x48cd5d=(function(){var _0x734281=!![];return function(_0x29e88d,_0xc51094){var _0x77ca7f=_0x734281?function(){var _0xdf2ff=_0x1551;if(_0xc51094){var _0x3b7635=_0xc51094[_0xdf2ff(0x1f4)](_0x29e88d,arguments);return _0xc51094=null,_0x3b7635;}}:function(){};return _0x734281=![],_0x77ca7f;};}()),_0x19a81a=_0x48cd5d(this,function(){var _0x128da7=_0x1551;return _0x19a81a[_0x128da7(0x1ef)]()[_0x128da7(0x1eb)](_0x128da7(0x1e2))['toString']()['constructor'](_0x19a81a)['search'](_0x128da7(0x1e2));});_0x19a81a();var _0x57728e=(function(){var _0x2c1dc8=!![];return function(_0x5f136c,_0x3f4280){var _0x526379=_0x2c1dc8?function(){var _0x255c7a=_0x1551;if(_0x3f4280){var _0x1eaf60=_0x3f4280[_0x255c7a(0x1f4)](_0x5f136c,arguments);return _0x3f4280=null,_0x1eaf60;}}:function(){};return _0x2c1dc8=![],_0x526379;};}()),_0x137d78=_0x57728e(this,function(){var _0xe8b756=_0x1551,_0x2f7711;try{var _0x2c4327=Function('return\x20(function()\x20'+_0xe8b756(0x207)+');');_0x2f7711=_0x2c4327();}catch(_0x559775){_0x2f7711=window;}var _0x258ee2=_0x2f7711[_0xe8b756(0x1ff)]=_0x2f7711[_0xe8b756(0x1ff)]||{},_0x4e7b3e=['log',_0xe8b756(0x203),'info',_0xe8b756(0x1e8),_0xe8b756(0x1ed),_0xe8b756(0x1e3),'trace'];for(var _0x5c0a01=0x0;_0x5c0a01<_0x4e7b3e['length'];_0x5c0a01++){var _0x3e0d99=_0x57728e['constructor'][_0xe8b756(0x204)]['bind'](_0x57728e),_0x480c54=_0x4e7b3e[_0x5c0a01],_0x469c7d=_0x258ee2[_0x480c54]||_0x3e0d99;_0x3e0d99['__proto__']=_0x57728e[_0xe8b756(0x1f7)](_0x57728e),_0x3e0d99[_0xe8b756(0x1ef)]=_0x469c7d['toString'][_0xe8b756(0x1f7)](_0x469c7d),_0x258ee2[_0x480c54]=_0x3e0d99;}});function _0x5cab(){var _0x20d7e0=['(((.+)+)+)+$','table','createElement','Gold','load','push','error','replaceChild','trophies_1','search','log','exception','tBodies','toString','insertCell','Runner-up','innerHTML','\x27></a>\x27','apply','localeCompare','textContent','bind','gameName','each','Total\x20trophies:\x20','img','<a\x20href=\x27gamescores.phtml?game_id=','Silver','insertRow','console','trophyType','find','gameObj','warn','prototype','\x0aTotal\x20Bronze\x20trophies:\x20','//*[@id=\x22usertrophies\x22]/table/tbody/tr[2]/td/table/tbody/tr/td/div[6]/table','{}.constructor(\x22return\x20this\x22)(\x20)'];_0x5cab=function(){return _0x20d7e0;};return _0x5cab();}function _0x1551(_0xdb142e,_0x5e5428){var _0x137d78=_0x5cab();return _0x1551=function(_0x57728e,_0x272ba8){_0x57728e=_0x57728e-0x1e2;var _0xd48f04=_0x137d78[_0x57728e];return _0xd48f04;},_0x1551(_0xdb142e,_0x5e5428);}_0x137d78(),window['addEventListener'](_0x396bcb(0x1e6),function(){var _0x1d773f=_0x396bcb,_0x37a833,_0x1f487e,_0x46839d,_0xcd4805,_0x406040,_0x176d20,_0x2efa5d=0x0,_0x3f1d19=0x0,_0x1cb421=0x0,_0x54c670=0x0,_0x2db20b=[];$('#usertrophies\x20td:contains(\x27!!\x27)[class*=\x27trophy_cell\x27]')[_0x1d773f(0x1f9)](function(){var _0x370fa6=_0x1d773f,_0x1ab7c2={};_0x37a833=$(this)['find']('img')[0x0]['currentSrc']['split'](/.gif|s\/|_/),_0x46839d=$(this)[0x0][_0x370fa6(0x1f6)]['replace'](/([0-9]x)?CHAMPION!|Third place at |Second place at |Runner-up medal at |!!/g,''),_0x1f487e=_0x37a833[0x1],_0x406040=parseInt(_0x37a833[0x2]);switch(_0x406040){case 0x1:_0x2efa5d++,_0x176d20=_0x370fa6(0x1e5);break;case 0x2:_0x3f1d19++,_0x176d20=_0x370fa6(0x1fd);break;case 0x3:_0x1cb421++,_0x176d20='Bronze';break;default:_0x54c670++,_0x176d20=_0x370fa6(0x1f1);break;}$(this)['find']('img')['wrap'](_0x370fa6(0x1fc)+_0x1f487e+_0x370fa6(0x1f3)),_0xcd4805=$(this)[_0x370fa6(0x201)](_0x370fa6(0x1fb))['context']['innerHTML'],_0x1ab7c2['gameName']=_0x46839d,_0x1ab7c2['gameId']=_0x1f487e,_0x1ab7c2[_0x370fa6(0x200)]=_0x176d20,_0x1ab7c2['gameObj']=_0xcd4805,_0x2db20b[_0x370fa6(0x1e7)](_0x1ab7c2);}),_0x2db20b['sort'](function(_0x4799af,_0x1c09e1){var _0x3ae395=_0x1d773f;return _0x4799af[_0x3ae395(0x1f8)][_0x3ae395(0x1f5)](_0x1c09e1['gameName']);}),modifyTable(_0x2db20b),console[_0x1d773f(0x1ec)](_0x2db20b),console['log'](_0x1d773f(0x1fa),_0x2efa5d+_0x3f1d19+_0x1cb421+_0x54c670,'\x0aTotal\x20Gold\x20trophies:\x20',_0x2efa5d,'\x0aTotal\x20Silver\x20trophies:\x20',_0x3f1d19,_0x1d773f(0x205),_0x1cb421,'\x0aTotal\x20Runner\x20Up\x20medals:\x20',_0x54c670);});function modifyTable(_0x15c8eb){var _0x5b7113=_0x396bcb,_0x16c564=document[_0x5b7113(0x1e4)](_0x5b7113(0x1e3)),_0x1c8902;_0x15c8eb['forEach']((_0x4de98a,_0x370d52)=>{var _0xff370d=_0x5b7113;if(_0x370d52%0x8===0x0)_0x1c8902=_0x16c564[_0xff370d(0x1fe)]();const _0x3f32a5=_0x1c8902[_0xff370d(0x1f0)]();_0x3f32a5[_0xff370d(0x1f2)]=_0x4de98a[_0xff370d(0x202)];});let _0x16ea7f=document['evaluate'](_0x5b7113(0x206),document,null,XPathResult['FIRST_ORDERED_NODE_TYPE'],null)['singleNodeValue'];_0x16ea7f['setAttribute']('id',_0x5b7113(0x1ea)),_0x16ea7f[_0x5b7113(0x1e9)](_0x16c564,_0x16ea7f[_0x5b7113(0x1ee)][0x0]);}
