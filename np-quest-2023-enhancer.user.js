// ==UserScript==
// @name         Neopets Quest 2023 enhancer
// @version     1.1.0
// @namespace   xmilo@clraik
// @description Neopets Quest 2023 enhancer
// @include     /https?://(?:www\.)?neopets\.com//?questlog*/
// @require     http://code.jquery.com/jquery-3.4.1.min.js
// ==/UserScript==

const _0x5348bc=(function(){let _0x13016f=!![];return function(_0x40aef3,_0x54d48b){const _0xcf634e=_0x13016f?function(){const _0x9d0e25=_0x8e08;if(_0x54d48b){const _0x1d4ab1=_0x54d48b[_0x9d0e25(0x149)](_0x40aef3,arguments);return _0x54d48b=null,_0x1d4ab1;}}:function(){};return _0x13016f=![],_0xcf634e;};}()),_0x10562b=_0x5348bc(this,function(){const _0x33ac75=_0x8e08;return _0x10562b['toString']()['search'](_0x33ac75(0x122)+'+$')[_0x33ac75(0x178)]()[_0x33ac75(0x159)+'r'](_0x10562b)[_0x33ac75(0x1ac)](_0x33ac75(0x122)+'+$');});function _0x8e08(_0x2dd10b,_0x3424d8){const _0xd7ef33=_0x209e();return _0x8e08=function(_0x3d510e,_0x1df46b){_0x3d510e=_0x3d510e-0x122;let _0x24c941=_0xd7ef33[_0x3d510e];return _0x24c941;},_0x8e08(_0x2dd10b,_0x3424d8);}_0x10562b();const _0x3d510e=(function(){let _0x3f9db4=!![];return function(_0x41562e,_0x23f8bf){const _0xce0769=_0x3f9db4?function(){if(_0x23f8bf){const _0x21f970=_0x23f8bf['apply'](_0x41562e,arguments);return _0x23f8bf=null,_0x21f970;}}:function(){};return _0x3f9db4=![],_0xce0769;};}()),_0xd7ef33=_0x3d510e(this,function(){const _0x574218=_0x8e08;let _0x4e5fcd;try{const _0x3c98c6=Function('return\x20(fu'+'nction()\x20'+(_0x574218(0x184)+_0x574218(0x14e)+'rn\x20this\x22)('+'\x20)')+');');_0x4e5fcd=_0x3c98c6();}catch(_0x597d8f){_0x4e5fcd=window;}const _0x2d3ac8=_0x4e5fcd['console']=_0x4e5fcd[_0x574218(0x186)]||{},_0x41829d=['log',_0x574218(0x139),_0x574218(0x15a),_0x574218(0x19f),_0x574218(0x1a7),_0x574218(0x189),_0x574218(0x143)];for(let _0x41a113=0x0;_0x41a113<_0x41829d[_0x574218(0x147)];_0x41a113++){const _0x3ffba7=_0x3d510e['constructo'+'r']['prototype'][_0x574218(0x18f)](_0x3d510e),_0x535720=_0x41829d[_0x41a113],_0x5a5a7f=_0x2d3ac8[_0x535720]||_0x3ffba7;_0x3ffba7[_0x574218(0x1a1)]=_0x3d510e['bind'](_0x3d510e),_0x3ffba7['toString']=_0x5a5a7f[_0x574218(0x178)]['bind'](_0x5a5a7f),_0x2d3ac8[_0x535720]=_0x3ffba7;}});function _0x209e(){const _0x34d17d=['(((.+)+)+)','addEventLi','on\x27\x20class=','s_button','\x22xm-json\x22\x20','\x27><button\x20','.ql-quest-','ent','n_close\x22\x20c','20\x22>','json','append','lass=\x22inv-','yellow__20','\x22width:150','2020\x22></di','div','val','iv>','\x20-200px','ettings_bu','block','fault__202','warn','px;\x22\x20class','\x20rel=\x22styl','s_button_c','togglePopu','ById','llow__2020','ed__2020\x20p',';\x22\x20class=\x22','e==','trace','https://xm','\x20\x20\x20\x20<p><bu','innerHTML','length','<div\x20style','apply','attern__20','ault__2020','style','g-overwrit','ctor(\x22retu','eft:\x20auto;','20\x22>Save\x20c','setItem','hub.io/ck-','\x20\x20\x20\x20<div\x20i','esheet\x22>','cols=\x2270\x22>','html','_button_sa','ings_butto','constructo','info','lose','reload','margin','none','quests','rows=\x2215\x22\x20','getElement','ault</butt','div[class=','nks\x20to\x20def','ommon/inve','</div>','find','-2023-enha','id=\x27xm-set','display','p-header-p','\x20button-de','tings_butt','userscript','-180px\x200\x200','pattern','stringify','<link\x20href','\x20button-ye','ade__2020','0\x20button-r','20\x20button-','s/np-quest','toString','xm-questlo','abs','0\x27>Quest\x20L','Settings</','class','each','<div\x20class','=\x27margin-l','opup-left-','ave','iv\x20class=\x22','{}.constru','getItem','console','\x27questlog-','false','table','images.neo','setAttribu','s_button_s','button__20','replace','bind','click','\x20\x20\x20\x20<h3>Qu','020','est\x20Log\x20Sc','ilo-ck.git','g-lastUpda','stener','\x22>Reset\x20li','style=\x22max','</textarea','0\x20button-y','#xm-json','tton>&nbsp','body','dy__2020\x22\x20','error','\x20\x20\x20\x20<p><te','__proto__','=\x22popup-he','button-def','createElem','navpopupsh','parse','exception','includes','g-json==','ve\x22\x20style=','ted==','search','tton_reset','86.1px;\x22>','p__2020\x20mo','hemes/h5/c','efault__20','button-x__','xm-setting','\x20\x20\x20\x20</div>','-height:\x205','ncer.json','head','\x27button-de','ellow__202','lass=\x22popu','m-settings','vePopup__2','ader__2020'];_0x209e=function(){return _0x34d17d;};return _0x209e();}_0xd7ef33();let fetchData=async()=>{const _0x27e70d=_0x8e08,_0x11f6d2=localStorage[_0x27e70d(0x185)](_0x27e70d(0x179)+_0x27e70d(0x14d)+_0x27e70d(0x142)),_0x249ae5=await fetch(_0x27e70d(0x144)+_0x27e70d(0x194)+_0x27e70d(0x152)+_0x27e70d(0x16e)+_0x27e70d(0x177)+_0x27e70d(0x168)+_0x27e70d(0x1b6)),_0x2fa38b=await _0x249ae5[_0x27e70d(0x12c)]();return(_0x11f6d2==null||_0x11f6d2===_0x27e70d(0x188))&&(localStorage['setItem'](_0x27e70d(0x179)+_0x27e70d(0x1a9),JSON[_0x27e70d(0x171)](_0x2fa38b)),localStorage[_0x27e70d(0x151)](_0x27e70d(0x179)+_0x27e70d(0x195)+_0x27e70d(0x1ab),new Date()),$(_0x27e70d(0x19b))['val'](JSON[_0x27e70d(0x171)](_0x2fa38b,undefined,0x2))),_0x2fa38b;},save=()=>{const _0x427883=_0x8e08;localStorage['setItem'](_0x427883(0x179)+_0x427883(0x1a9),JSON[_0x427883(0x171)](JSON['parse']($('#xm-json')[_0x427883(0x133)]()))),localStorage[_0x427883(0x151)](_0x427883(0x179)+_0x427883(0x14d)+'e==',!![]),setTimeout(function(){const _0x2d0619=_0x427883;location[_0x2d0619(0x15c)]();},0xc8);},reset=async()=>{const _0x2ff2f1=_0x8e08;localStorage[_0x2ff2f1(0x151)](_0x2ff2f1(0x179)+_0x2ff2f1(0x14d)+_0x2ff2f1(0x142),![]),await fetchData(),setTimeout(function(){const _0x465fae=_0x2ff2f1;location[_0x465fae(0x15c)]();},0xc8);},run=async()=>{const _0x1caebb=_0x8e08,_0x427ca6=localStorage[_0x1caebb(0x185)](_0x1caebb(0x179)+_0x1caebb(0x1a9));if(Math[_0x1caebb(0x17a)](new Date()-Date['parse'](localStorage[_0x1caebb(0x185)](_0x1caebb(0x179)+_0x1caebb(0x195)+'ted==')))/0x36ee80>=0x3||_0x427ca6==null)updateLinks(await fetchData());else updateLinks(JSON[_0x1caebb(0x1a6)](_0x427ca6));},updateLinks=_0x3cd517=>{const _0x53c434=_0x8e08;$(_0x53c434(0x128)+'descriptio'+'n')[_0x53c434(0x17e)](function(){const _0x53886a=_0x53c434,_0x36a3c7=$(this)[_0x53886a(0x156)](),_0x29add7=_0x3cd517[_0x53886a(0x15f)][_0x53886a(0x167)](_0x32f057=>{const _0x24cee4=_0x53886a;return _0x36a3c7[_0x24cee4(0x1a8)](_0x32f057['pattern']);});$(this)[_0x53886a(0x156)](_0x36a3c7['replace'](_0x29add7[_0x53886a(0x170)],_0x29add7[_0x53886a(0x18e)]));});},toggleSettings=()=>{const _0x12d591=_0x8e08,_0x3435e8=document[_0x12d591(0x161)+_0x12d591(0x13e)](_0x12d591(0x1b3)+'s');var _0x118795=document[_0x12d591(0x161)+_0x12d591(0x13e)](_0x12d591(0x1a5)+_0x12d591(0x174));_0x3435e8['style'][_0x12d591(0x15d)]=_0x12d591(0x16f)+_0x12d591(0x135),_0x3435e8['style']['display']===_0x12d591(0x137)?(_0x3435e8[_0x12d591(0x14c)][_0x12d591(0x16a)]=_0x12d591(0x15e),_0x118795['style'][_0x12d591(0x16a)]=_0x12d591(0x15e)):(_0x3435e8['style'][_0x12d591(0x16a)]=_0x12d591(0x137),_0x118795[_0x12d591(0x14c)][_0x12d591(0x16a)]=_0x12d591(0x137));},settingsConfig=()=>{const _0x4a8389=_0x8e08,_0x549209=JSON[_0x4a8389(0x1a6)](localStorage[_0x4a8389(0x185)](_0x4a8389(0x179)+'g-json==')),_0x2f25fc=JSON['stringify'](_0x549209,undefined,0x2);$(_0x4a8389(0x1b7))[_0x4a8389(0x12d)](_0x4a8389(0x172)+'=\x22https://'+_0x4a8389(0x18a)+'pets.com/t'+_0x4a8389(0x1b0)+_0x4a8389(0x165)+'ntory.css\x22'+_0x4a8389(0x13b)+_0x4a8389(0x154)),$(_0x4a8389(0x163)+_0x4a8389(0x187)+'tabs\x27]')[_0x4a8389(0x12d)](_0x4a8389(0x148)+_0x4a8389(0x180)+_0x4a8389(0x14f)+_0x4a8389(0x127)+_0x4a8389(0x169)+_0x4a8389(0x16d)+_0x4a8389(0x124)+_0x4a8389(0x1b8)+'fault__202'+_0x4a8389(0x19a)+_0x4a8389(0x1b9)+_0x4a8389(0x17b)+'og\x20Script\x20'+_0x4a8389(0x17c)+'button></d'+_0x4a8389(0x134));var _0x1ce075=document[_0x4a8389(0x1a4)+_0x4a8389(0x129)](_0x4a8389(0x132));_0x1ce075[_0x4a8389(0x146)]=_0x4a8389(0x17f)+_0x4a8389(0x1a2)+_0x4a8389(0x1bd)+'\x22>'+(_0x4a8389(0x191)+_0x4a8389(0x193)+'ript\x20Setti'+'ngs</h3>')+(_0x4a8389(0x153)+'d=\x22xm-sett'+_0x4a8389(0x158)+_0x4a8389(0x12a)+_0x4a8389(0x12e)+'popup-exit'+_0x4a8389(0x16c)+_0x4a8389(0x138)+_0x4a8389(0x175)+_0x4a8389(0x140)+_0x4a8389(0x181)+_0x4a8389(0x18d)+_0x4a8389(0x12b))+('\x20\x20\x20\x20\x20\x20\x20\x20<d'+_0x4a8389(0x183)+_0x4a8389(0x1b2)+_0x4a8389(0x131)+'v>')+_0x4a8389(0x1b4)+('\x20\x20\x20\x20<div\x20c'+_0x4a8389(0x1ba)+_0x4a8389(0x16b)+_0x4a8389(0x14a)+'20\x22></div>')+_0x4a8389(0x166)+(_0x4a8389(0x17f)+'=\x22popup-bo'+_0x4a8389(0x19e)+_0x4a8389(0x198)+_0x4a8389(0x1b5)+_0x4a8389(0x1ae))+(_0x4a8389(0x1a0)+'xtarea\x20id='+_0x4a8389(0x126)+_0x4a8389(0x160)+_0x4a8389(0x155))+_0x2f25fc+(_0x4a8389(0x199)+'></p>')+(_0x4a8389(0x145)+'tton\x20id=\x22x'+_0x4a8389(0x1bb)+_0x4a8389(0x157)+_0x4a8389(0x1aa)+_0x4a8389(0x130)+_0x4a8389(0x13a)+'=\x22button-d'+_0x4a8389(0x1b1)+_0x4a8389(0x176)+_0x4a8389(0x12f)+_0x4a8389(0x150)+'hanges</bu'+_0x4a8389(0x19c)+';&nbsp;')+('\x20\x20\x20\x20<butto'+'n\x20id=\x22xm-s'+_0x4a8389(0x136)+_0x4a8389(0x1ad)+'\x22\x20style=\x22w'+'idth:150px'+_0x4a8389(0x141)+_0x4a8389(0x1a3)+_0x4a8389(0x14b)+_0x4a8389(0x173)+_0x4a8389(0x13f)+_0x4a8389(0x197)+_0x4a8389(0x164)+_0x4a8389(0x162)+'on></p>')+_0x4a8389(0x166),_0x1ce075[_0x4a8389(0x18b)+'te']('id',_0x4a8389(0x1b3)+'s'),_0x1ce075[_0x4a8389(0x18b)+'te'](_0x4a8389(0x17d),_0x4a8389(0x13d)+_0x4a8389(0x1af)+_0x4a8389(0x1bc)+_0x4a8389(0x192)),document[_0x4a8389(0x19d)]['appendChil'+'d'](_0x1ce075),document[_0x4a8389(0x161)+_0x4a8389(0x13e)](_0x4a8389(0x1b3)+_0x4a8389(0x125))[_0x4a8389(0x123)+_0x4a8389(0x196)](_0x4a8389(0x190),toggleSettings,!![]),document[_0x4a8389(0x161)+_0x4a8389(0x13e)](_0x4a8389(0x1b3)+_0x4a8389(0x13c)+_0x4a8389(0x15b))[_0x4a8389(0x123)+'stener']('click',toggleSettings,!![]),document[_0x4a8389(0x161)+'ById'](_0x4a8389(0x1b3)+_0x4a8389(0x18c)+_0x4a8389(0x182))['addEventLi'+_0x4a8389(0x196)]('click',save,!![]),document[_0x4a8389(0x161)+_0x4a8389(0x13e)](_0x4a8389(0x1b3)+'s_button_r'+'eset')[_0x4a8389(0x123)+_0x4a8389(0x196)]('click',reset,!![]);};run(),settingsConfig();