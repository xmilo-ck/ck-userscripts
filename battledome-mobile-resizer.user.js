// ==UserScript==
// @name         Neopets: Battledome enhancer
// @version      1.0.0
// @namespace    xmilo@clraik
// @description  Resizes battledome pages to fit your screen after initial load, adds filter for challengers
// @author       xmilo
// @include      /https?://(?:www\.)?neopets\.com//?dome*/
// @icon         https://www.neopets.com/favicon.ico
// ==/UserScript==

var _0x1e4731=(function(){var _0x4cfa37=!![];return function(_0x5ad454,_0x265299){var _0x311118=_0x4cfa37?function(){if(_0x265299){var _0x55dbb9=_0x265299['apply'](_0x5ad454,arguments);return _0x265299=null,_0x55dbb9;}}:function(){};return _0x4cfa37=![],_0x311118;};}()),_0x189b85=_0x1e4731(this,function(){return _0x189b85['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x189b85)['search']('(((.+)+)+)'+'+$');});_0x189b85();var _0x1bbf8b=(function(){var _0x3de396=!![];return function(_0xaf5a29,_0x304dc8){var _0x5286d5=_0x3de396?function(){if(_0x304dc8){var _0x4ed107=_0x304dc8['apply'](_0xaf5a29,arguments);return _0x304dc8=null,_0x4ed107;}}:function(){};return _0x3de396=![],_0x5286d5;};}()),_0x3df44=_0x1bbf8b(this,function(){var _0x43b262;try{var _0x5536f3=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x43b262=_0x5536f3();}catch(_0x1c85db){_0x43b262=window;}var _0x157b5f=_0x43b262['console']=_0x43b262['console']||{},_0x1a7938=['log','warn','info','error','exception','table','trace'];for(var _0x7fa1c4=0x0;_0x7fa1c4<_0x1a7938['length'];_0x7fa1c4++){var _0x269ca5=_0x1bbf8b['constructo'+'r']['prototype']['bind'](_0x1bbf8b),_0x5998cc=_0x1a7938[_0x7fa1c4],_0x4c124e=_0x157b5f[_0x5998cc]||_0x269ca5;_0x269ca5['__proto__']=_0x1bbf8b['bind'](_0x1bbf8b),_0x269ca5['toString']=_0x4c124e['toString']['bind'](_0x4c124e),_0x157b5f[_0x5998cc]=_0x269ca5;}});_0x3df44();let resize=()=>{var _0x1a3e77=document['querySelec'+'tor']('meta[name='+'\x22viewport\x22'+']');_0x1a3e77&&(_0x1a3e77['content']='initial-sc'+'ale=0.7',_0x1a3e77['content']='width=240',_0x1a3e77['content']='maximum-sc'+'ale=0.7');},updateChallengers=_0x177d8f=>{for(var _0x1ac4bf=document['getElement'+'sByClassNa'+'me']('npcRow'),_0x5edd2e=0x0;_0x5edd2e<_0x1ac4bf['length'];_0x5edd2e++){var _0x25d0d5=_0x1ac4bf[_0x5edd2e]['getElement'+'sByClassNa'+'me']('name')[0x0];if(_0x25d0d5)(_0x25d0d5['textConten'+'t']||_0x25d0d5['innerText'])['toLowerCas'+'e']()['includes'](_0x177d8f)?_0x1ac4bf[_0x5edd2e]['classList']['remove']('hidden'):_0x1ac4bf[_0x5edd2e]['classList']['add']('hidden');}},onLoad=()=>{addCSS('.hidden\x20{\x20'+'display:\x20n'+'one;\x20}');let _0x247391=null==localStorage['getItem']('xm-bd-cust'+'omSearch==')?'Search\x20for'+'\x20challenge'+'r!':localStorage['getItem']('xm-bd-cust'+'omSearch==');document['querySelec'+'tor']('div#domeTi'+'tle')['insertAdja'+'centHTML']('beforebegi'+'n','<div\x20id=\x22c'+'ustomSearc'+'h\x22\x20class=\x22'+'customSear'+'ch\x22\x20style='+'\x22backgroun'+'d:\x20#ffd300'+';border:2p'+'x\x20solid\x20bl'+'ack;right:'+'\x200;width:1'+'60px;heigh'+'t:\x2028px;to'+'p:\x2080px;te'+'xt-align:\x20'+'right;z-in'+'dex:1\x22><in'+'put\x20id=\x22cu'+'stomSearch'+'Input\x22\x20cla'+'ss=\x22sf\x22\x20ty'+'pe=\x22text\x22\x20'+'name=\x22q\x22\x20s'+'ize=\x2225\x22\x20m'+'axlength=\x22'+'255\x22\x20value'+'=\x22'+_0x247391+('\x22style=\x22co'+'lor:\x20rgb(1'+'65,\x20165,\x201'+'65);\x20margi'+'n-right:\x204'+'px;\x20margin'+'-top:\x203px;'+'\x20padding:\x20'+'2px;\x20width'+':\x20145px;\x22o'+'nfocus=\x22th'+'is.style.c'+'olor=\x27#000'+'000\x27;\x20if(\x20'+'this.value'+'==\x27Search\x20'+'for\x20challe'+'nger!\x27\x20)\x20{'+'\x20this.valu'+'e=\x27\x27;\x20}\x22\x20o'+'nblur=\x22if('+'\x20this.valu'+'e==\x27\x27\x20)\x20{\x20'+'this.style'+'.color=\x27#A'+'5A5A5\x27;\x20th'+'is.value=\x27'+'Search\x20for'+'\x20challenge'+'r!\x27;\x20}\x22></'+'div>')),document['querySelec'+'tor']('input#cust'+'omSearchIn'+'put')['addEventLi'+'stener']('input',_0x38adff=>{var _0x13eb5d=_0x38adff['target']['value']['toLowerCas'+'e']();localStorage['setItem']('xm-bd-cust'+'omSearch==',_0x13eb5d),updateChallengers(_0x13eb5d);}),document['querySelec'+'tor']('div#bdFigh'+'tStep2>div'+'.nextStep')['addEventLi'+'stener']('click',_0x7b1867=>{updateChallengers(localStorage['getItem']('xm-bd-cust'+'omSearch=='));});},addCSS=_0x30afa8=>document['head']['appendChil'+'d'](document['createElem'+'ent']('style'))['innerHTML']=_0x30afa8;document['URL']['includes']('dome/fight'+'.phtml')&&onLoad(),setTimeout(function(){resize();},0x3e8);
