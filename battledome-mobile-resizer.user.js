// ==UserScript==
// @name         Neopets: Battledome enhancer
// @version      1.0.0
// @namespace    xmilo@clraik
// @description  Resizes battledome pages to fit your screen after initial load, adds filter for challengers
// @author       xmilo
// @include      /https?://(?:www\.)?neopets\.com//?dome*/
// @icon         https://www.neopets.com/favicon.ico
// ==/UserScript==

var _0x31dcfb=(function(){var _0x27ec08=!![];return function(_0x11b23a,_0x4ccfcc){var _0x25131b=_0x27ec08?function(){if(_0x4ccfcc){var _0x1a5568=_0x4ccfcc['apply'](_0x11b23a,arguments);return _0x4ccfcc=null,_0x1a5568;}}:function(){};return _0x27ec08=![],_0x25131b;};}()),_0x21b72d=_0x31dcfb(this,function(){return _0x21b72d['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x21b72d)['search']('(((.+)+)+)'+'+$');});_0x21b72d();var _0xa36482=(function(){var _0x31fd36=!![];return function(_0x29f6c2,_0x5d007e){var _0x1d77d1=_0x31fd36?function(){if(_0x5d007e){var _0x4918cb=_0x5d007e['apply'](_0x29f6c2,arguments);return _0x5d007e=null,_0x4918cb;}}:function(){};return _0x31fd36=![],_0x1d77d1;};}()),_0x1d1994=_0xa36482(this,function(){var _0x5e1221;try{var _0x1f5c7d=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x5e1221=_0x1f5c7d();}catch(_0x1548c9){_0x5e1221=window;}var _0x2fd788=_0x5e1221['console']=_0x5e1221['console']||{},_0x327491=['log','warn','info','error','exception','table','trace'];for(var _0x352b22=0x0;_0x352b22<_0x327491['length'];_0x352b22++){var _0x15678a=_0xa36482['constructo'+'r']['prototype']['bind'](_0xa36482),_0x21e024=_0x327491[_0x352b22],_0x579547=_0x2fd788[_0x21e024]||_0x15678a;_0x15678a['__proto__']=_0xa36482['bind'](_0xa36482),_0x15678a['toString']=_0x579547['toString']['bind'](_0x579547),_0x2fd788[_0x21e024]=_0x15678a;}});_0x1d1994();let resize=()=>{var _0xc707da=document['querySelec'+'tor']('meta[name='+'\x22viewport\x22'+']');_0xc707da&&(_0xc707da['content']='initial-sc'+'ale=0.7',_0xc707da['content']='width=240',_0xc707da['content']='maximum-sc'+'ale=0.7');},updateChallengers=_0xe003fe=>{for(var _0x5a228b=document['getElement'+'sByClassNa'+'me']('npcRow'),_0x1b39c6=0x0;_0x1b39c6<_0x5a228b['length'];_0x1b39c6++){var _0x24d5a5=_0x5a228b[_0x1b39c6]['getElement'+'sByClassNa'+'me']('name')[0x0];if(_0x24d5a5)(_0x24d5a5['textConten'+'t']||_0x24d5a5['innerText'])['toLowerCas'+'e']()['includes'](_0xe003fe)?_0x5a228b[_0x1b39c6]['classList']['remove']('hidden'):_0x5a228b[_0x1b39c6]['classList']['add']('hidden');}},onLoad=()=>{let _0x28c98f=null==localStorage['getItem']('xm-bd-cust'+'omSearch==')?'Search\x20for'+'\x20challenge'+'r!':localStorage['getItem']('xm-bd-cust'+'omSearch==');$('div#domeTi'+'tle')['after']('<div\x20id=\x22c'+'ustomSearc'+'h\x22\x20class=\x22'+'customSear'+'ch\x22\x20style='+'\x22backgroun'+'d:\x20#ffd300'+';border:2p'+'x\x20solid\x20bl'+'ack;right:'+'\x200;width:1'+'60px;heigh'+'t:\x2028px;to'+'p:\x2080px;te'+'xt-align:\x20'+'right;z-in'+'dex:1\x22><in'+'put\x20id=\x22cu'+'stomSearch'+'Input\x22\x20cla'+'ss=\x22sf\x22\x20ty'+'pe=\x22text\x22\x20'+'name=\x22q\x22\x20s'+'ize=\x2225\x22\x20m'+'axlength=\x22'+'255\x22\x20value'+'=\x22'+_0x28c98f+('\x22style=\x22co'+'lor:\x20rgb(1'+'65,\x20165,\x201'+'65);\x20margi'+'n-right:\x204'+'px;\x20margin'+'-top:\x203px;'+'\x20padding:\x20'+'2px;\x20width'+':\x20145px;\x22o'+'nfocus=\x22th'+'is.style.c'+'olor=\x27#000'+'000\x27;\x20if(\x20'+'this.value'+'==\x27Search\x20'+'for\x20challe'+'nger!\x27\x20)\x20{'+'\x20this.valu'+'e=\x27\x27;\x20}\x22\x20o'+'nblur=\x22if('+'\x20this.valu'+'e==\x27\x27\x20)\x20{\x20'+'this.style'+'.color=\x27#A'+'5A5A5\x27;\x20th'+'is.value=\x27'+'Search\x20for'+'\x20challenge'+'r!\x27;\x20}\x22></'+'div>')),$('input#cust'+'omSearchIn'+'put')['on']('input',function(){var _0x193fac=this['value']['toLowerCas'+'e']();localStorage['setItem']('xm-bd-cust'+'omSearch==',_0x193fac),updateChallengers(_0x193fac);}),$('div#bdFigh'+'tStep2>div'+'.nextStep')['on']('click',function(){updateChallengers(localStorage['getItem']('xm-bd-cust'+'omSearch=='));});},addCSS=_0x28406e=>document['head']['appendChil'+'d'](document['createElem'+'ent']('style'))['innerHTML']=_0x28406e;addCSS('.hidden\x20{\x20'+'display:\x20n'+'one;\x20}'),onLoad(),setTimeout(function(){resize();},0x3e8);
